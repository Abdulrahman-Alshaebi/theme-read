!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Object.keys(e).map((function(o){return"".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(e[o]))})).join("&"),n="https://maps.googleapis.com/maps/api/js?".concat(o),t=document.createElement("script");t.setAttribute("src",n),t.setAttribute("async",""),t.setAttribute("defer",""),document.head.appendChild(t)}({key:"AIzaSyBPhPJ4KG13ywvmeAovLRnbi7WzlsdcWKs",language:"ar",libraries:"places"}),window.onload=function(){document.querySelectorAll("#init_map_div").forEach((function(e,o){var n=[],t=[],a=e.dataset.geoLocation,i={};if(a){var c=a.split(",");i.lat=parseFloat(c[0]),i.lng=parseFloat(c[1])}else i.lat=21.52822716547559,i.lng=39.19322012785499;n[o]=new google.maps.Map(e,{center:i,zoom:15,mapTypeId:"roadmap",mapTypeControl:!1}),t[o]=new google.maps.Marker({map:n[o],anchorPoint:new google.maps.Point(0,-29),position:i,animation:google.maps.Animation.DROP}),"false"!==e.dataset.event&&n[o].addListener("click",(function(a){t[o]&&t[o].setMap(null),t[o]=new google.maps.Marker({map:n[o],anchorPoint:new google.maps.Point(0,-29),position:a.latLng,animation:google.maps.Animation.DROP}),document.getElementById(e.dataset.inputGeocode).value="".concat(a.latLng.lat(),", ").concat(a.latLng.lng())}));var s=document.getElementById(e.dataset.searchInput);if(s){var l=new google.maps.places.SearchBox(s);n[o].controls[google.maps.ControlPosition.TOP_LEFT].push(s),n[o].addListener("bounds_changed",(function(){l.setBounds(n[o].getBounds())})),l.addListener("places_changed",(function(){var e=l.getPlaces();if(0!=e.length){var t=new google.maps.LatLngBounds;e.forEach((function(e){e.geometry?e.geometry.viewport?t.union(e.geometry.viewport):t.extend(e.geometry.location):console.log("Returned place contains no geometry")})),n[o].fitBounds(t)}}))}document.getElementById(e.dataset.currentLocation).addEventListener("click",(function(){navigator.geolocation.getCurrentPosition((function(e){var t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);n[o].setCenter(t)}),(function(e){e.code==e.PERMISSION_DENIED&&1==confirm("يجب الموافقة على صلاحية تحديد الموقع التي ستظهر لك مرة أخرى")&&window.location.reload()}))}))}))};