/*! For license information please see 889.js.LICENSE.txt */
"use strict";(self.webpackChunkTheme_One=self.webpackChunkTheme_One||[]).push([[889],{4901:(t,s,e)=>{e.d(s,{H:()=>a}),salla.event.setMaxListeners(20);class r extends salla.AppHelpers{setHost(t){this.host=t}getElement(t){return this.host.querySelector(t)}getAttribute(t,s){var e;return null===(e=this.getElement(t))||void 0===e?void 0:e.getAttribute(s)}val(t){return this.getAttribute(t,"value")}isUser(){return"user"===salla.config.get("user.type")}}const a=new r},7889:(t,s,e)=>{e.r(s),e.d(s,{salla_rating_stars:()=>i});var r=e(2704),a=e(4901);const i=class{constructor(t){(0,r.r)(this,t),this.name="rating",this.size="medium"}initiateRating(){this.host.addEventListener("click",(()=>{if(!this.startsElem)return;let t=this.startsElem.querySelectorAll(".s-rating-stars-hovered"),s=t[t.length-1];if(!s)return;let e=s.getAttribute("data-star");this.startsElem.querySelector(".rating_hidden_input").value=e,this.startsElem.querySelectorAll(".s-rating-stars-btn-star").forEach(((t,s)=>a.H.toggleElementClassIf(t,"s-rating-stars-selected","s-rating-stars-unselected",(()=>s<parseInt(e))))),this.startsElem.querySelectorAll("[aria-pressed]").forEach((t=>t.removeAttribute("aria-pressed"))),s.setAttribute("aria-pressed","true")}))}highlightSelectedStars(){var t,s;let e="s-rating-stars-hovered",r=null===(t=this.startsElem)||void 0===t?void 0:t.querySelectorAll(".s-rating-stars-btn-star");null==r||r.forEach(((t,s)=>{t.addEventListener("mouseover",(()=>{for(let t=0;t<=s;t++)r[t].classList.add(e)})),t.addEventListener("mouseout",(()=>t.classList.remove(e)))})),null===(s=this.startsElem)||void 0===s||s.addEventListener("mouseout",(()=>r.forEach((t=>t.classList.remove(e)))))}createStars(t){let s=[];for(let e=0;e<5;e++)s.push((0,r.h)("span",{class:{"s-rating-stars-btn-star sicon-star2":!0,["s-rating-stars-"+this.size]:!0,"s-rating-stars-selected":e<t}}));return s}render(){return(0,r.h)(r.H,null,this.value?(0,r.h)("div",{class:"s-rating-stars-wrapper"}," ",this.createStars(this.value)," "):(0,r.h)("div",{class:"s-rating-stars-element",ref:t=>this.startsElem=t},(0,r.h)("input",{type:"hidden",class:"rating_hidden_input",name:this.name,value:""}),[1,2,3,4,5].map((t=>(0,r.h)("button",{class:"s-rating-stars-btn-star s-rating-stars-"+this.size,"data-star":t},(0,r.h)("i",{class:"sicon-star2"}))))))}componentDidLoad(){this.initiateRating(),this.highlightSelectedStars()}get host(){return(0,r.g)(this)}};i.style=""}}]);